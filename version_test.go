package main

import (
	"crypto/md5"
	"fmt"
	"testing"
)

func TestI(t *testing.T) {
	decodeVersion([]byte("\x4d\x54\x56\x51\x48\x68\x74\x61\x59\x79\x70\x7a\x47\x55\x52\x6a\x49\x51\x67\x73\x49\x33\x6f\x4b\x41\x62\x45\x3d"))
}

func TestII(t *testing.T) {
	var md5data [32]byte
	data := []byte("\x2b\x44\x2b\x35\x63\x03\xf7\x60\x1b\x85\x64\xae\xb2\xe7\x00\x91\x93\x86\x11\x31\x41\xe2\xc2\x4f\x1e\xf5\xb1\x31\x49\x90\xc4\x72\xd8\x61\x30\x6c\x00\x00\x00\x00\x00\x00\x00\x00\x19\xef\x36\x06\x00\x00\x00\x00\x37\x06\x00\x00\x00\x00\x38\x06\x00\x00\x00\x00\x39\xba\x54\x3d\x32\x3b\x56\x3d\x37\x2e\x33\x30\x2d\x30\x35\x31\x35\x3b\x55\x3d\x68\x74\x74\x70\x3a\x2f\x2f\x32\x31\x30\x2e\x33\x34\x2e\x38\x31\x2e\x33\x3a\x38\x30\x38\x30\x2f\x73\x65\x6c\x66\x73\x65\x72\x76\x69\x63\x65\x2f\x31\x78\x64\x6c\x3f\x75\x73\x65\x72\x4e\x61\x6d\x65\x3d\x30\x31\x35\x36\x37\x31\x31\x30\x30\x39\x26\x66\x69\x6c\x65\x4e\x61\x6d\x65\x3d\x64\x6f\x74\x31\x78\x5f\x75\x70\x64\x61\x74\x65\x37\x2e\x33\x20\x28\x65\x30\x35\x31\x35\x29\x2e\x65\x78\x65\x3b\x4c\x3d\x33\x30\x30\x35\x37\x30\x35\x31\x3b\x4d\x3d\x36\x33\x45\x38\x43\x30\x31\x33\x30\x31\x35\x43\x34\x34\x42\x41\x43\x30\x33\x35\x34\x43\x42\x41\x46\x31\x44\x33\x41\x46\x33\x34\x3b\x45\x3d\x69\x4e\x6f\x64\x65\x20\x50\x43\x20\x37\x2e\x33\x20\x28\x45\x30\x35\x31\x35\x29\x3a\x06\x00\x00\x00\x00\x42\x06\x00\x00\x00\x00\x4a\x06\x00\x00\x00\x00\x43\x11\x52\x30\x30\x33\x42\x30\x34\x44\x30\x32\x31\x53\x50\x32\x30\x19\x0a\x3d\x0a\x55\x42\x4f\x71\x4a\x6e\x47\x51\xfe\xe6\xe3\x1b")
	if data[3] == 0x35 {
		copy(md5data[:], data[4:])
		//key := []byte{0xEC, 0xD4, 0x4F, 0x7B, 0xC6, 0xDD, 0x7D, 0xDE, 0x2B, 0x7B, 0x51, 0xAB, 0x4A, 0x6F, 0x5A, 0x22}
		//IV1 := []byte{'a', '@', '4', 'd', 'e', '%', '#', '1', 'a', 's', 'd', 'f', 's', 'd', '2', '4'}
		h3c_md5(md5data[:])
		fmt.Printf("%02x\n", md5data)
	}

}

func TestIII(t *testing.T) {
	var raw [32]byte
	copy(raw[:], []byte("\x02\x68\xee\x03\xef\x06\x04\x52\x87\xca\x70\x5f\x9b\x71\x0b\x50\xf7\x30\x80\x12\x54\xd1\x35\xb4\x6d\x25\x01\x00\xd1\x2e\xf0\xe0\x15\x04\xac\x1c\x10\x22\x06\x07\x4d\x7a\x45\x4a\x54\x45\x6b\x44\x5a\x79\x68\x78\x48\x52\x30\x78\x63\x31\x45\x6f\x49\x56\x6a\x2f\x7a\x70\x45\x3d\x20\x20\x30\x31\x35\x36\x37\x31\x31\x30\x30\x39"))
	fmt.Printf("%02x\n", md5.Sum(raw[:16]))
	fmt.Printf("%02x\n", raw[16:])
}
